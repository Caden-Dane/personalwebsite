<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content Manager — Secret</title>
  <link rel="stylesheet" href="../src/styles/secret.css">
</head>
<body>
  <header class="secret-header">
    <h1>Content Manager</h1>
    <p class="secret-subtitle">Edit site content. Download updated JSON and replace files in <code>src/data/</code>. Reload main page to see changes.</p>
  </header>

  <div id="feedback" class="feedback" role="status" aria-live="polite" hidden></div>

  <main class="secret-main">
    <section id="section-images" class="secret-section" aria-labelledby="heading-images">
      <h2 id="heading-images">Images</h2>
      <p class="secret-section-desc">Each slot corresponds to an image on the main page. Drag and drop a new image or delete to remove. Download images.json to apply.</p>
      <div class="section-actions">
        <button type="button" class="btn btn-secondary btn-download" id="btn-download-images" disabled>Download images.json</button>
      </div>
      <div id="images-container" class="images-container"></div>
    </section>

    <section id="section-experiences" class="secret-section" aria-labelledby="heading-experiences">
      <h2 id="heading-experiences">Experiences</h2>
      <div class="section-actions">
        <button type="button" class="btn btn-primary" id="btn-add-experience">Add experience</button>
        <button type="button" class="btn btn-secondary btn-download" id="btn-download-experiences" disabled>Download experiences.json</button>
      </div>
      <div id="experience-form-container" class="form-container" hidden>
        <h3 id="experience-form-title">New experience</h3>
        <form id="form-experience" class="secret-form">
          <input type="hidden" id="experience-edit-id" value="">
          <div class="form-row">
            <label for="experience-period">Period <span class="required">*</span></label>
            <input type="text" id="experience-period" required placeholder="e.g. 2024–2025">
          </div>
          <div class="form-row">
            <label for="experience-title">Title <span class="required">*</span></label>
            <input type="text" id="experience-title" required placeholder="Role title">
          </div>
          <div class="form-row">
            <label for="experience-organization">Organization <span class="required">*</span></label>
            <input type="text" id="experience-organization" required placeholder="Company or project">
          </div>
          <div class="form-row">
            <label for="experience-description">Description</label>
            <textarea id="experience-description" rows="6" placeholder="Use bullet points: start each line with • or - for a list item. Other lines appear as paragraphs."></textarea>
          </div>
          <div class="form-row">
            <label>Skills</label>
            <div id="experience-skills-checkboxes" class="checkbox-group"></div>
          </div>
          <div class="form-row">
            <label>Links</label>
            <div id="experience-links-container"></div>
            <button type="button" class="btn btn-small" id="btn-add-experience-link">+ Add link</button>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save experience</button>
            <button type="button" class="btn btn-secondary" id="btn-cancel-experience">Cancel</button>
          </div>
        </form>
      </div>
      <ul id="experience-list" class="entity-list" role="list"></ul>
    </section>

    <section id="section-skills" class="secret-section" aria-labelledby="heading-skills">
      <h2 id="heading-skills">Skills &amp; Categories</h2>
      <div class="section-actions">
        <button type="button" class="btn btn-primary" id="btn-add-category">Add category</button>
        <button type="button" class="btn btn-primary" id="btn-add-skill">Add skill</button>
        <button type="button" class="btn btn-secondary btn-download" id="btn-download-skills" disabled>Download skills.json</button>
      </div>
      <div id="category-form-container" class="form-container" hidden>
        <h3>New category</h3>
        <form id="form-category" class="secret-form">
          <input type="hidden" id="category-edit-id" value="">
          <div class="form-row">
            <label for="category-id">ID <span class="required">*</span></label>
            <input type="text" id="category-id" required placeholder="e.g. technical" pattern="[a-z0-9-]+">
          </div>
          <div class="form-row">
            <label for="category-label">Label <span class="required">*</span></label>
            <input type="text" id="category-label" required placeholder="Display name">
          </div>
          <div class="form-row">
            <label for="category-order">Order</label>
            <input type="number" id="category-order" min="0" value="0">
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save category</button>
            <button type="button" class="btn btn-secondary" id="btn-cancel-category">Cancel</button>
          </div>
        </form>
      </div>
      <div id="skill-form-container" class="form-container" hidden>
        <h3>New skill</h3>
        <form id="form-skill" class="secret-form">
          <input type="hidden" id="skill-edit-id" value="">
          <div class="form-row">
            <label for="skill-id">ID <span class="required">*</span></label>
            <input type="text" id="skill-id" required placeholder="e.g. js" pattern="[a-z0-9-]+">
          </div>
          <div class="form-row">
            <label for="skill-label">Label <span class="required">*</span></label>
            <input type="text" id="skill-label" required placeholder="Display name">
          </div>
          <div class="form-row">
            <label for="skill-category">Category <span class="required">*</span></label>
            <select id="skill-category" required></select>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save skill</button>
            <button type="button" class="btn btn-secondary" id="btn-cancel-skill">Cancel</button>
          </div>
        </form>
      </div>
      <div class="skills-display">
        <div id="categories-list"></div>
      </div>
    </section>

    <section id="section-books" class="secret-section" aria-labelledby="heading-books">
      <h2 id="heading-books">Books</h2>
      <div class="section-actions">
        <button type="button" class="btn btn-primary" id="btn-add-book">Add book</button>
        <button type="button" class="btn btn-secondary btn-download" id="btn-download-books" disabled>Download books.json</button>
      </div>
      <div id="book-form-container" class="form-container" hidden>
        <h3>New book</h3>
        <form id="form-book" class="secret-form">
          <input type="hidden" id="book-edit-id" value="">
          <div class="form-row">
            <label for="book-id">ID <span class="required">*</span></label>
            <input type="text" id="book-id" required placeholder="e.g. b1" pattern="[a-zA-Z0-9-_]+">
          </div>
          <div class="form-row">
            <label for="book-title">Title <span class="required">*</span></label>
            <input type="text" id="book-title" required placeholder="Book title">
          </div>
          <div class="form-row">
            <label for="book-author">Author <span class="required">*</span></label>
            <input type="text" id="book-author" required placeholder="Author name">
          </div>
          <div class="form-row">
            <label for="book-url">URL</label>
            <input type="url" id="book-url" placeholder="https://...">
          </div>
          <div class="form-row">
            <label for="book-status">Status</label>
            <select id="book-status">
              <option value="">—</option>
              <option value="reading">Reading</option>
              <option value="read">Read</option>
              <option value="recommended">Recommended</option>
            </select>
          </div>
          <div class="form-row">
            <label for="book-note">Note</label>
            <input type="text" id="book-note" placeholder="Short note">
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save book</button>
            <button type="button" class="btn btn-secondary" id="btn-cancel-book">Cancel</button>
          </div>
        </form>
      </div>
      <ul id="book-list" class="entity-list" role="list"></ul>
    </section>

    <section id="section-about" class="secret-section" aria-labelledby="heading-about">
      <h2 id="heading-about">About</h2>
      <p class="secret-section-desc">These texts appear in the About section on the main page (two blocks next to the about images).</p>
      <div class="section-actions">
        <button type="button" class="btn btn-secondary btn-download" id="btn-download-about" disabled>Download about.json</button>
      </div>
      <form id="form-about" class="secret-form">
        <div class="form-row">
          <label for="about-text-1">About text 1 (first block)</label>
          <textarea id="about-text-1" rows="5" placeholder="Short bio and interests..."></textarea>
        </div>
        <div class="form-row">
          <label for="about-text-2">About text 2 (second block)</label>
          <textarea id="about-text-2" rows="5" placeholder="Another paragraph about you..."></textarea>
        </div>
        <div class="form-row">
          <label for="about-video-url">Video URL (second block)</label>
          <input type="text" id="about-video-url" placeholder="e.g. /public/about-video.mp4">
          <span class="form-hint">Leave empty to show the second About image from Images. Put your video file in <code>public/</code> (e.g. <code>public/about-video.mp4</code>).</span>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Save about</button>
        </div>
      </form>
    </section>

    <section id="section-contact" class="secret-section" aria-labelledby="heading-contact">
      <h2 id="heading-contact">Contact</h2>
      <div class="section-actions">
        <button type="button" class="btn btn-secondary btn-download" id="btn-download-contact" disabled>Download contact.json</button>
      </div>
      <form id="form-contact" class="secret-form">
        <div class="form-row">
          <label for="contact-resume-url">Resume URL</label>
          <input type="text" id="contact-resume-url" placeholder="/public/resume.pdf (path on your site)">
        </div>
        <div class="form-row">
          <label for="contact-invitation">Invitation text</label>
          <textarea id="contact-invitation" rows="3" placeholder="Short message for contact section"></textarea>
        </div>
        <div class="form-row">
          <label>Contact entries</label>
          <div id="contact-entries-container"></div>
          <button type="button" class="btn btn-small" id="btn-add-contact-entry">+ Add entry</button>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Save contact</button>
        </div>
      </form>
    </section>
  </main>

  <script src="../src/scripts/secret.js"></script>
</body>
</html>
